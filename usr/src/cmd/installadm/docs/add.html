<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>How to Add Install Services - OpenSolaris 2009.06 Automated Installer Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/opensol.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.com"><img border="0" src="graphics/opensolaris_logo_trans.png"></img></a>
   </div>
   <div class="Title">OpenSolaris 2009.06 Automated Installer Guide</div>
</div>
<div class="headerbar"></div>


<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="administer.html">Previous</a>
             </td>
             <td align="right">
                 <a href="service.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="index.html">1.&nbsp;&nbsp;Introduction to the Automated Installer</a></p>
<p class="toc level1 tocsp"><a href="setup.html">2.&nbsp;&nbsp;Automated Installer Setup Instructions</a></p>
<p class="toc level1 tocsp"><a href="administer.html">3.&nbsp;&nbsp;How to Administer an Automated Install Server</a></p>
<div class="onpage">
<p class="toc level2"><a href="">How to Add Install Services</a></p>
</div>
<p class="toc level2"><a href="service.html">Scenario: Setting Up a Server and Multiple Clients</a></p>
<p class="toc level2"><a href="copying.html">Scenario: Copying a Service to Another Location</a></p>
<p class="toc level2"><a href="delete.html">How to Delete Install Services</a></p>
<p class="toc level2"><a href="list.html">How to List Install Services on the Server</a></p>
<p class="toc level2"><a href="enable.html">How to Enable and Disable Install Services</a></p>
<p class="toc level2"><a href="manifest.html">How to Administer the Manifest Files for an Install Service</a></p>
<p class="toc level2"><a href="associate.html">How to Add an AI Manifest File to a Service</a></p>
<p class="toc level2"><a href="remove.html">How to Remove an AI Manifest File From a Service</a></p>
<p class="toc level2"><a href="clientsetup.html">How to Administer an Automated Install Client</a></p>
<p class="toc level2"><a href="scenario.html">Scenario: Creating a Custom Client</a></p>
<p class="toc level1 tocsp"><a href="trouble.html">4.&nbsp;&nbsp;Troubleshooting/FAQ for the Automated Installer</a></p>
<p class="toc level1 tocsp"><a href="appendix.html">5.&nbsp;&nbsp;Appendix</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="add"></a><h3>How to Add Install Services</h3>
<p>Use the <tt>installadm create-service</tt> command to add install services to your system.</p>

<a name="first"></a><h4>Add a Service With Specific Client IP Addresses</h4>
<p>As described in the instructions for setting up a client server above, use
the <tt>installadm create-service</tt> command to create new services. You can use this command to
assign a starting IP address and a total number of IP addresses to
be made available for the clients of this service by using the <tt>-i</tt>
and <tt>-c</tt> options with the command as described in this procedure.</p><p>If your system is acting as your DHCP server, and you haven't
yet configured the system with DHCP configuration settings, then the <tt>installadm create-service</tt> command with
<tt>-i</tt> and <tt>-c</tt> options also sets up the proper DHCP settings on
your system.</p><p>Use the <tt>-i</tt> and <tt>-c</tt> options with the <tt>installadm create-service</tt> command to provide
this IP information as follows:</p><pre><tt>installadm create-service [<tt>-i</tt> <i>dhcp_ip_start</i>] [<tt>-c</tt> <i>count_of_ipaddr</i>] [<tt>-s</tt> <i>srcimage</i>] <i>targetdir</i></tt></pre>
<ul><li><p>The <tt>-i</tt> option sets up a new DHCP server. The IP addresses, starting from <i>dhcp_ip_start</i>, are set up.</p></li>
<li><p>The <tt>-c</tt> option sets up a total number of IP addresses in the DHCP table equal to the value of the <i>count_of_ipaddr</i>. The first IP address is the value of <i>dhcp_ip_start</i> that is provided by the <tt>-i</tt> option.</p></li>
<li><p>The <tt>-s</tt> option and <i>srcimage</i> field specify the location of source image to use for setting up the OSInstall service. The <i>targetdir</i> field specifies the location to set up the image.</p></li></ul>


<a name="additional"></a><h4>Add Services Without Specific IP Addresses</h4>
<p>If you already have the correct DHCP settings on your system, and
you do not want to specify additional IP addresses for clients, only a
source image and a target directory are required to set up an additional
service. The syntax for this minimal command is as follows:</p><pre><tt>installadm create-service</tt> <tt>-s</tt> <i>srcimage</i> <i>targetdir</i></pre><p>The <i>srcimage</i> field specifies the location of source image to use for setting
up the OSInstall service. The <i>targetdir</i> field specifies the location to set
up the image.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="administer.html">Previous</a>
             </td>
             <td align="right">
                 <a href="service.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

