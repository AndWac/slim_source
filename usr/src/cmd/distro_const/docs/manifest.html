<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Editing the Manifest File - OpenSolaris 2008.11 Distribution Constructor Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-11-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/opensol.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.com"><img border="0" src="graphics/opensolaris_logo_trans.png"></img></a>
   </div>
   <div class="Title">OpenSolaris 2008.11 Distribution Constructor Guide</div>
</div>
<div class="headerbar"></div>


<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gentextid-238.html">Previous</a>
             </td>
             <td align="right">
                 <a href="scripts.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="index.html">1.&nbsp;&nbsp;Getting Started With Distribution Constructor</a></p>
<p class="toc level1 tocsp"><a href="gentextid-238.html">2.&nbsp;&nbsp;Using the Distribution Constructor (Tasks)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Editing the Manifest File</a></p>
</div>
<p class="toc level2"><a href="scripts.html">Using the Finalizer Scripts</a></p>
<p class="toc level2"><a href="distro_const.html">Creating an Image</a></p>
<p class="toc level2"><a href="gentextid-493.html"><tt>distro_const</tt> Command Reference</a></p>
<p class="toc level2"><a href="checkpoint.html">Using Checkpointing to Create an Image</a></p>
<p class="toc level2"><a href="gentextid-686.html">Join the Discussion</a></p>
<p class="toc level1 tocsp"><a href="appendix.html">3.&nbsp;&nbsp;Appendix: Sample Manifest File</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="manifest"></a><h3>Editing the Manifest File</h3>
<p>The XML manifest file provides the distribution constructor with a blueprint that specifies
the contents and parameters of the new ISO image. To view a complete
manifest file, see <a href="manifestfile.html">Manifest File</a>.</p><p>Once you have installed the distribution constructor application, the default manifest file is
located at <tt>/usr/share/distro_const/slim_cd/slim_cd.xml</tt>. The minimal edits to the default manifest file are
1) to specify the source IPS repository, if you want to change the
default repository, and 2) to specify a valid build area. All other manifest
fields can be left with default values. </p><p>The following table summaries the key sections in the manifest file and provides
further instructions about how to customize these sections.</p><h6>Table&nbsp;2-1 Primary Manifest Sections</h6><table><col width="17%"><col width="27%"><col width="54%"><tr><th align="left" valign="top" scope="column"><p>Major Section</p></th>
<th align="left" valign="top" scope="column"><p>Sub-Section XML Tags</p></th>
<th align="left" valign="top" scope="column"><p>Description of
Required Manual Edits</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Distribution Parameters</p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;distribution name="OpenSolaris"></tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides name for the distribution. </p><p>Optionally, you can enter
a unique name for your distribution.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;distro_constr_params></tt></p></td>
<td align="left" valign="top" scope="row"><p>The default setting enables checkpointing when creating
the image. </p><p>You do not need to edit the checkpointing parameters.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;pkg_repo_default>_authority></tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies location
of IPS repository. The constructor accesses the repository and retrieves packages for the
image. The default repository location is http://pkg.opensolaris.org. </p><p>If you do not want
to use the opensolaris.org repository, modify this location to point to the repository
of your choice.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Image Parameters</p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;packages></tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists the packages to be included in the image.
</p><p>If you have packages that you want to add to the basic
image, add your packages in this field, one package per line.</p>
<hr><p><b>Note - </b>In the OpenSolaris
2008.11 release, the package attributes and package tags information is not used by
the distribution constructor. You do not need to specify these fields in the
manifest.</p>
<hr>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;bootroot_contents></tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists the bootroot files to be included in the image. Files or
directories that need to be excluded are specified with the <tt>base_exclude</tt> tag.</p>
<hr><p><b>Note - </b>Do not
edit the bootroot contents for the OpenSolaris 2008.11 release.</p>
<hr>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;build_area></tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies area where image will
be created. You must confirm that the package image area is valid for
your system and revise as needed. </p><p>If you want to use checkpointing,
the image area must either point to a ZFS dataset or to a
mount point that correlates to a ZFS dataset. If the ZFS dataset does
not exist, it will be created. The zpool that you specify, however, must
already exist. </p><p>If you do not want to use checkpointing, provide either
a regular mount point or a ZFS or UFS file system.</p>
<hr><p><b>Note - </b>After an image
is created, the build area contains the following content:</p>
<ul><li><p><tt>build_data</tt> &ndash; Package image area</p></li>
<li><p><tt>build_data/bootroot</tt> &ndash; Bootroot build area</p></li>
<li><p><tt>build_data/tmp</tt> &ndash; Temporary directory used by constructor and finalizer scripts</p></li>
<li><p><tt>build_data/media</tt> &ndash; Output images</p></li>
<li><p><tt>build_data/logs</tt> &ndash; Log of the steps executed by the application and log of the output from all commands</p></li></ul>

<hr>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;grub_menu_modifications></tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies assisted reader for GRUB
menu.</p><p>You do not need to edit this field.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;output_image></tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies where resulting ISO or
USB images will be located. If the path does not exist, it will
be created. The name of the resulting image is derived from the distribution
name.</p><p>You do not need to edit the output path.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;finalizer></tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies finalizer scripts and
final media parameters.</p><p>You do not need to edit the default finalizer information.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;key_value_pairs</tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies
additional parameters needed by processes such as the finalizer scripts.</p><p>You do not need
to edit the key value pairs.</p></td>
</tr>
</table><p>You can either use the default manifest file, or you can copy
it and create a custom manifest with a new filename. If you create
a custom manifest file, you will reference the new file by name when
you use the <tt>distro_const</tt> to create an image.</p><p>You can, if you wish, also customize the finalizer scripts. If you
do create new scripts or rename existing scripts, you'll need to update the
script references in the finalizer section of the manifest file.</p><p>When you have completed your revisions to the manifest file and, optionally, customized
the finalize scripts, you can proceed with running the <tt>distro_const</tt> utility to
create an image.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gentextid-238.html">Previous</a>
             </td>
             <td align="right">
                 <a href="scripts.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

